{"version":3,"file":"js/4.bb89f38f.js","mappings":"kKAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,YAAYJ,EAAIK,GAAIL,EAAIM,UAAU,SAASC,GAAG,OAAOL,EAAG,MAAM,CAACM,IAAID,EAAEH,MAAM,CAAC,IAAMJ,EAAIS,QAAQ,GAAKF,EAAE,KAAOA,EAAE,MAAQP,EAAIU,MAAM,YAAa,EAAK,QAAS,GAAOC,GAAG,CAAC,eAAe,SAASC,GAAQZ,EAAIU,MAAME,CAAM,EAAE,eAAeZ,EAAIa,kBAAkB,CAACX,EAAG,WAAW,CAACY,KAAK,WAAW,CAACd,EAAIe,GAAG,gCAAgC,EAAE,IAAG,EACna,EACIC,EAAkB,G,UCoBtB,GACAC,WAAAA,CACAC,IAAAA,EAAAA,GAEAC,OACA,OACAC,KAAAA,EACAd,SAAAA,EACAG,aAAAA,EACAY,OAAAA,GACAX,MAAAA,aACAY,UAAAA,EAEA,EACAC,SAAAA,CACAC,gBACA,sCACA,GAEAC,UACA,cACA,eACA,EACAC,MAAAA,CACAC,KAAAA,SAAAA,GACA,GACA,aAEA,EACAP,KAAAA,SAAAA,IAEAQ,OAAAA,aAAAA,KAAAA,QAAAA,SAAAA,eAAAA,KACAC,SAAAA,eAAAA,EAAAA,IACAD,OAAAA,aAAAA,KAAAA,QAAAA,SAAAA,eAAAA,EAAAA,MAGAC,SAAAA,eAAAA,GAAAA,gBAEA,GAEAC,QAAAA,CACAjB,gBAAAA,SAAAA,GAGA,oDACAO,EAAAA,gBACA,EACAW,SACA,WACAC,EAAAA,QAAAA,EAAAA,EAAAA,kBAAAA,cACAA,EAAAA,QAAAA,MAAAA,IAmBA,aACA,QACAC,EAAAA,OAAAA,EAAAA,UACA,GAEAL,OAAAA,aAAAA,EAAAA,QAAAA,SAAAA,eAAAA,KACAA,OAAAA,aAAAA,EAAAA,QAAAA,SAAAA,eAAAA,EAAAA,MAEAI,EAAAA,KAAAA,GAEAzB,UACA,KACA,4DACAyB,EAAAA,KAAAA,EAEA,CAjCAA,EAAAA,SAAAA,EAAAA,SACAJ,OAAAA,SAAAA,WACAM,GAEA,CA6BA,GAEA,EACAC,QAAAA,GACA,kBACA,EACAC,WACA,wBACA,uBACAC,QAAAA,IAAAA,KAAAA,SACA,ICpHsQ,I,UCQlQC,GAAY,OACd,EACAvC,EACAiB,GACA,EACA,KACA,WACA,MAIF,EAAesB,EAAiB,O","sources":["webpack://novelapagina/./src/views/OnlineRead/UltimoVinculo.vue","webpack://novelapagina/src/views/OnlineRead/UltimoVinculo.vue","webpack://novelapagina/./src/views/OnlineRead/UltimoVinculo.vue?f45e","webpack://novelapagina/./src/views/OnlineRead/UltimoVinculo.vue?f1af"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"pdfvuer\"}},_vm._l((_vm.numPages),function(i){return _c('pdf',{key:i,attrs:{\"src\":_vm.pdfdata,\"id\":i,\"page\":i,\"scale\":_vm.scale,\"annotation\":true,\"resize\":false},on:{\"update:scale\":function($event){_vm.scale=$event},\"link-clicked\":_vm.handle_pdf_link}},[_c('template',{slot:\"loading\"},[_vm._v(\" loading content here... \")])],2)}),1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"pdfvuer\">\r\n    <pdf\r\n      :src=\"pdfdata\"\r\n      v-for=\"i in numPages\"\r\n      :key=\"i\"\r\n      :id=\"i\"\r\n      :page=\"i\"\r\n      :scale.sync=\"scale\"\r\n      :annotation=\"true\"\r\n      :resize=\"false\"\r\n      @link-clicked=\"handle_pdf_link\"\r\n    >\r\n      <template slot=\"loading\"> loading content here... </template>\r\n    </pdf>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport pdfvuer from 'pdfvuer'\r\n// import 'pdfjs-dist/build/pdf.worker.entry' // not needed since v1.9.1\r\n\r\nexport default {\r\n  components: {\r\n    pdf: pdfvuer\r\n  },\r\n  data() {\r\n    return {\r\n      page: 1,\r\n      numPages: 0,\r\n      pdfdata: undefined,\r\n      errors: [],\r\n      scale: 'page-width',\r\n      setWidth: false\r\n    }\r\n  },\r\n  computed: {\r\n    formattedZoom() {\r\n      return Number.parseInt(this.scale * 100)\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getPdf()\r\n    this.setPageW()\r\n  },\r\n  watch: {\r\n    show: function (s) {\r\n      if (s) {\r\n        this.getPdf()\r\n      }\r\n    },\r\n    page: function (p) {\r\n      if (\r\n        window.pageYOffset <= this.findPos(document.getElementById(p)) ||\r\n        (document.getElementById(p + 1) &&\r\n          window.pageYOffset >= this.findPos(document.getElementById(p + 1)))\r\n      ) {\r\n        // window.scrollTo(0,this.findPos(document.getElementById(p)));\r\n        document.getElementById(p).scrollIntoView()\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    handle_pdf_link: function (params) {\r\n      // Scroll to the appropriate place on our page - the Y component of\r\n      // params.destArray * (div height / ???), from the bottom of the page div\r\n      var page = document.getElementById(String(params.pageNumber))\r\n      page.scrollIntoView()\r\n    },\r\n    getPdf() {\r\n      var self = this\r\n      self.pdfdata = pdfvuer.createLoadingTask('/最后的纽带.pdf')\r\n      self.pdfdata.then((pdf) => {\r\n        self.numPages = pdf.numPages\r\n        window.onscroll = function () {\r\n          changePage()\r\n          // stickyNav()\r\n        }\r\n\r\n        // Get the offset position of the navbar\r\n        // var sticky = $('#buttons')[0].offsetTop\r\n\r\n        // Add the sticky class to the self.$refs.nav when you reach its scroll position. Remove \"sticky\" when you leave the scroll position\r\n        // function stickyNav() {\r\n        //   if (window.pageYOffset >= sticky) {\r\n        //     $('#buttons')[0].classList.remove(\"hidden\")\r\n        //   } else {\r\n        //     $('#buttons')[0].classList.add(\"hidden\")\r\n        //   }\r\n        // }\r\n\r\n        function changePage() {\r\n          var i = 1,\r\n            count = Number(pdf.numPages)\r\n          do {\r\n            if (\r\n              window.pageYOffset >= self.findPos(document.getElementById(i)) &&\r\n              window.pageYOffset <= self.findPos(document.getElementById(i + 1))\r\n            ) {\r\n              self.page = i\r\n            }\r\n            i++\r\n          } while (i < count)\r\n          if (window.pageYOffset >= self.findPos(document.getElementById(i))) {\r\n            self.page = i\r\n          }\r\n        }\r\n      })\r\n    },\r\n    findPos(obj) {\r\n      return obj.offsetTop\r\n    },\r\n    setPageW() {\r\n      let screen = window.innerWidth\r\n      this.setWidth = screen > 600 ? false : true\r\n      console.log(this.setWidth)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"css\" scoped>\r\n#buttons {\r\n  margin-left: 0 !important;\r\n  margin-right: 0 !important;\r\n}\r\n/* Page content */\r\n.content {\r\n  padding: 16px;\r\n}\r\n\r\n.fullWidth.textLayer {\r\n  width: 100%;\r\n  margin: 20px auto;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UltimoVinculo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UltimoVinculo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UltimoVinculo.vue?vue&type=template&id=215f905a&scoped=true&\"\nimport script from \"./UltimoVinculo.vue?vue&type=script&lang=js&\"\nexport * from \"./UltimoVinculo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UltimoVinculo.vue?vue&type=style&index=0&id=215f905a&prod&lang=css&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"215f905a\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","attrs","_l","numPages","i","key","pdfdata","scale","on","$event","handle_pdf_link","slot","_v","staticRenderFns","components","pdf","data","page","errors","setWidth","computed","formattedZoom","mounted","watch","show","window","document","methods","getPdf","self","count","changePage","findPos","setPageW","console","component"],"sourceRoot":""}